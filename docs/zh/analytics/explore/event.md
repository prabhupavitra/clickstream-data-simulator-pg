# 事件分析
事件分析用于研究某些行为事件的频率。您可以通过自定义指标、分组、过滤和各种可视化图表,对用户行为进行多维度分析。

## 使用案例
事件分析通常用于分析用户行为,例如:

- 查询用户使用某些产品功能的情况(如添加收藏、视频播放、观看直播等);
- 比较不同用户组的行为,如不同国家的登录次数
- 比较不同渠道的有效性,如每个流量源的注册率。

## 关键概念:
- **指标**: 对所选事件执行聚合,支持以下指标:
  - 用户数: 计算事件数
  - 事件数: 计算不同用户数
  - 按值计数: 计算指定维度的不同值数(字符串类型)
  - 最大值、最小值、求和、平均值、中位数按: 聚合指定指标的值(数字类型)

## 如何使用

1. 选择一个事件,并选择指标的聚合方法。
2. 单击指标旁边的 :material-filter-outline:{ .filter } 图标,为该事件添加过滤器。
3. 选择事件参数或用户属性作为过滤器。您可以通过单击 :material-filter-outline:{ .filter } 图标添加多个过滤器。您还可以通过单击 `AND` 或 `OR` 来配置过滤器关系。
4. 如有需要,重复上一步骤添加更多指标。
5. 如有需要,通过选择事件参数或用户属性来配置全局过滤器。与事件过滤器类似,您可以添加多个全局过滤器并配置过滤器关系。
6. 如有需要,通过选择事件参数或用户属性进行分组。
7. 单击查询按钮开始分析。
8. 如有需要,调整数据粒度,如每日、每周、每月。
9. 如有需要,调整查询时间范围。
10. 单击保存到仪表板,输入名称、描述,并选择一个仪表板和工作表。

## 示例:

> 计算过去一个月内每天在网站上的页面浏览量(PV)和活跃用户数(UV),要求活跃用户的会话持续时间至少为30000毫秒,并按国家分组。

### 步骤

1. 选择**事件分析**模型。
2. 在左侧**定义指标**区域,选择`页面浏览`作为计算事件的指标,并选择`事件数`作为指标类型。
3. 单击**+ 添加事件**按钮添加另一个指标。选择`应用结束`作为计算事件的指标,并选择`用户数`作为指标类型。
4. 单击`应用结束`右侧的过滤器图标,添加事件过滤器条件:
    - 过滤器属性: `会话` / `会话持续时间(毫秒)`
    - 操作: `>=`
    - 值: `30000` (`会话持续时间(毫秒)`的单位为毫秒)
5. 在右侧**过滤器**区域配置全局过滤器:
    - 选择`事件预置属性` / `平台`作为过滤器属性。
    - 操作: `=`
    - 值: `Web`
6. 在右侧**属性分组**区域,选择`地理位置`/`国家`进行分组。
7. 在底部的时间选择器中,选择`最近1个月`,然后单击**确定**。
8. 单击右上角的**保存到仪表板**按钮。在弹出对话框中输入:
    - 图表名称: `PV和UV`
    - 图表描述: `过去一个月内网站上的PV和UV(至少30秒)`
    - 选择仪表板: 选择一个仪表板。(您需要首先创建一个仪表板,请按照[**创建仪表板**](../dashboard/index.md#create-dashboard)操作。)
    - 选择工作表: 选择一个工作表。
    - 单击**确定**。

所有配置如下图所示:
![explore-event](../../images/analytics/explore/explore-event-en.png)