# 路径分析

路径分析是指对一组用户的行为按顺序排序后的分布情况。主要用于分析和记录用户在页面或事件之间的分布比例。例如，查看有多少客户在打开应用后点击了产品列表，有多少客户在访问落地页后查看了产品详情页面，有多少客户搜索了产品等。

## 用例
路径分析通常用于分析用户的导航模式，例如：

- 分析用户进入产品或到达落地页后的行为路径分布；
- 分析特定流程（如注册、登录、支付等）或产品模块内的转换步骤或屏幕。

## 关键概念

- **指标**：用于路径分析的实体，例如事件数量或用户数量。
- **会话**：路径分析会话的长度，只有在会话内发生的事件才能形成一个路径，不同路径中发生的事件将不会计入相同的路径。
- **节点**：路径中的一个节点可以是事件、屏幕或页面。
- **起始节点**：路径分析的起始点。

## 如何使用

1. 选择指标类型。
    1. 用户数量：计算通过整个路径的不同用户数量。
    2. 事件数量：计算整个路径完成的次数。
2. 配置会话。
    1. 会话 ID：使用 SDK 生成的会话作为路径分析的会话，只有在相同会话 ID 下发生的事件才能计入路径。
    2. 自定义：您可以定义任何持续时间作为漏斗窗口。
3. 指定路径的节点类型。
    1. 事件名称：将事件用作节点，例如 _page_view、screen_view。
    2. 屏幕名称：使用应用中屏幕的名称作为节点。
    3. 屏幕 ID：使用应用中屏幕的类别 ID 作为节点。
    4. 页面标题：将页面标题用作节点。
    5. 页面 URL：将页面 URL 用作节点。
4. 设置起始节点。起始节点将是路径的第一个节点，只有在该节点之后发生的事件才会计入路径。
   1.  显示所有节点:显示在起始节点之后的所有节点。
   2. 显示选定节点:仅显示选定的节点,其他节点可以归为"其他"。
5. 当选择"显示选定节点"时,您需要指定参与分析的节点。只有选定的节点才会在路径中突出显示。您最多可以添加 10 个节点。
6. 指定是否要包含路径中的其他节点，如果启用此选项，所有未选定的节点将被计入并显示为路径中的 "其他"。
7. 指定是否要合并连续节点，如果启用此选项，同一会话中连续重复的节点将被合并为单个节点。
8. 如有需要，通过选择事件参数或用户属性配置全局过滤器。与事件过滤器类似，您可以添加多个全局过滤器并配置过滤器关系。
9.  点击 `查询` 按钮开始分析。
10. 如有需要，调整查询时间范围。
11. 点击 `保存到仪表板` 将分析保存到仪表板，输入名称、描述，并选择仪表板和工作表。

## 示例

> 计算 Web 上客户在会话开始后触发的事件的分布，重点关注登录、注册、产品曝光、搜索、查看产品、添加到购物车、开始结账和下订单，以及所有其他事件。

1. 选择 **路径分析** 模型。
2. 选择 `用户数量` 作为指标。
3. 选择 `会话 ID` 作为会话定义。
4. 选择 `事件` 作为节点类型。
5. 在左侧 **选择节点** 区域，选择 `_session_start` 作为起始节点。
6. 选择 `显示选择的节点`
7. 依次选择 `sign_up`、`login`、`product_exposure`、`search`、`view_item`、`add_to_cart`、`begin_checkout`、`purchase` 作为路径节点。
8. 启用 **包括其他事件**。
9. 启用 **合并连续事件**。
10. 在右侧 **过滤器** 区域配置全局过滤器：
    - 选择 `事件预置属性` / `平台` 作为过滤器属性。
    - 操作：`=`
    - 值：`Web`
11. 点击 **查询**。

所有配置如下图所示：
![explore-funnel](../../images/analytics/explore/explore-path-en.png)
